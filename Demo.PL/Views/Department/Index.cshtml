@model IEnumerable<Department>
@{
    ViewData["Title"] = "All Departments";
}

@if (TempData["Message"] is not null)
{
    <div id="MessageDiv" class="alert alert-success mt-3">
        @TempData["Message"]
    </div>
}

<a class="btn btn-primary" asp-action="Create">Create New Department</a>

    @if (Model.Count() > 0)
    {
        <h1>All Departments</h1>
        <br />
        <table class="table table-striped table-hover mt-3">

            <thead>

                <tr>

                    <td>@Html.DisplayNameFor(D => D.Code)</td>
                    <td>@Html.DisplayNameFor(D => D.Name)</td>
                    <td>@Html.DisplayNameFor(D => D.DateOfCreation)</td>
                    <td>Details</td>
                    <td>Update</td>
                    <td>Delete</td> 
                </tr>

            </thead>

            <tbody>

                @foreach (var department in Model)
                {
                    <tr>
                        <td>@Html.DisplayFor(D => department.Code)</td>
                        <td>@Html.DisplayFor(D => department.Name)</td>
                        <td>@Html.DisplayFor(D => department.DateOfCreation)</td>
                       <partial name="../_BottonsPartialView" model="@department.Id" />
                    </tr>
                }

            </tbody>

        </table>
    }


    else
    {
        <div class="mt-5 alert alert-warning">
            <h3>There is no departments</h3>
        </div>
    }

